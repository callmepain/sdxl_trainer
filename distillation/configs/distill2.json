{
    "device": "cuda",
    "run": {
      "name": "ds_turbo_v1_0",
      "output_root": ".output/"
    },
  "student": {
    "checkpoint_path": ".output/ds_1_0_8",
    "text_encoder_id": null,
    "use_bf16": true,
      "use_gradient_checkpointing": true,
      "use_ema": false,
      "ema_decay": 0.9999,
      "ema_update_every": 10
    },
    "teachers": [
      {
        "teacher_id": "teacher_ds",
        "cache_dir": "./cache/teacher_predictions",
        "weight": 1.0
      }
    ],
    "training": {
      "batch_size": 8,
      "num_steps": 5000,
      "num_epochs": null,
      "lr": 1e-05,
      "grad_accum_steps": 1,
      "log_every": 0,
      "checkpoint_every": 1000,
      "max_grad_norm": 1.0,
      "loss_type": "mse",
      "lr_scheduler": {
        "type": "cosine_decay",
        "warmup_steps": 200,
        "min_factor": 0.1
      },
      "tensorboard": {
        "enabled": true,
        "base_dir": "./logs/tensorboard/distill",
        "log_per_teacher_loss": true,
        "log_grad_norm": true
      }
    },
    "data": {
      "image_dir": "./data/genpics",
      "size": 1024,
      "bucket": {
        "enabled": true,
        "resolutions": [
          [1024, 1024],
          [896, 1152],
          [1152, 896],
          [832, 1216],
          [1216, 832],
          [768, 1344],
          [1344, 768]
        ],
        "drop_last": false,
        "per_resolution_batch_sizes": {}
      },
      "latent_cache": {
        "enabled": true,
        "cache_dir": "./cache/latents"
      },
      "num_workers": 4,
      "pin_memory": true
    },
    "cache": {
      "version": "1",
      "require_all_teachers": true
    },
    "optimizer": {
      "weight_decay": 0.01,
      "betas": [0.9, 0.999],
      "eps": 1e-8
    },
    "export": {
      "save_single_file": true,
      "converter_script": "./converttosdxl.py",
      "half_precision": true
    }
  }
  
